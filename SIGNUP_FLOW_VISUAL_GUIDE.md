# Signup Flow - Visual Guide

## ğŸ“‹ Step-by-Step Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SIGNUP PAGE - STEP 1                        â”‚
â”‚                    Company Information                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Organization Name:     [_____________________________]          â”‚
â”‚  Admin Email:           [_____________________________]          â”‚
â”‚  Business Reg Number:   [_____________________________]          â”‚
â”‚  Registration Document: [Upload File]                            â”‚
â”‚  Employee Count:        [Dropdown: 1-10, 11-50, etc.]          â”‚
â”‚                                                                  â”‚
â”‚                                          [Next: Choose Plan â†’]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SIGNUP PAGE - STEP 2                        â”‚
â”‚                      Choose Your Plan                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Starter    â”‚  â”‚ Professional â”‚  â”‚  Enterprise  â”‚          â”‚
â”‚  â”‚  LKR 2,500   â”‚  â”‚  LKR 5,000   â”‚  â”‚  LKR 10,000  â”‚          â”‚
â”‚  â”‚              â”‚  â”‚ [â­ Popular] â”‚  â”‚              â”‚          â”‚
â”‚  â”‚ â€¢ Feature 1  â”‚  â”‚ â€¢ Feature 1  â”‚  â”‚ â€¢ Feature 1  â”‚          â”‚
â”‚  â”‚ â€¢ Feature 2  â”‚  â”‚ â€¢ Feature 2  â”‚  â”‚ â€¢ Feature 2  â”‚          â”‚
â”‚  â”‚ â€¢ Feature 3  â”‚  â”‚ â€¢ Feature 3  â”‚  â”‚ â€¢ Feature 3  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚    Custom    â”‚                                               â”‚
â”‚  â”‚   Flexible   â”‚                                               â”‚
â”‚  â”‚  Customize   â”‚                                               â”‚
â”‚  â”‚    modules   â”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚                                                                  â”‚
â”‚  [â† Back]                                    [Continue â†’]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“                        â†“
              â†“ (If Custom)           â†“ (If Not Custom)
              â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   STEP 3A: Custom Modules   â”‚   â”‚   STEP 3B: Confirmation     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Select Modules You Need:    â”‚   â”‚ Review Your Information:    â”‚
â”‚                             â”‚   â”‚                             â”‚
â”‚ â˜‘ QR Attendance             â”‚   â”‚ Organization: ABC Company   â”‚
â”‚   $199.99/mo [Attendance]   â”‚   â”‚ Admin Email: admin@abc.com  â”‚
â”‚                             â”‚   â”‚ Employees: 11-50            â”‚
â”‚ â˜ Face Recognition          â”‚   â”‚ Selected Plan: Professional â”‚
â”‚   $499.99/mo [Attendance]   â”‚   â”‚                             â”‚
â”‚                             â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â˜‘ Employee Feedback         â”‚   â”‚ â”‚   reCAPTCHA Verify     â”‚ â”‚
â”‚   $149.99/mo [Engagement]   â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚   â”‚                             â”‚
â”‚ â˜ Hiring Management         â”‚   â”‚ [â† Back]  [Submit â†’]       â”‚
â”‚   $299.99/mo [Recruitment]  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Total: $349.98/month    â”‚ â”‚
â”‚ â”‚ 2 modules selected      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   reCAPTCHA Verify     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ [â† Back]  [Submit â†’]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     REGISTRATION SUCCESSFUL                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                     âœ“ Registration Successful!                   â”‚
â”‚                                                                  â”‚
â”‚      Your organization has been registered successfully.         â”‚
â”‚      Please wait for admin approval to start using CoreHive.     â”‚
â”‚                                                                  â”‚
â”‚                     [Go to Login]                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   STEP 1    â”‚
â”‚   Company   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Info      â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                         â”‚
                         â†“
                    Form Data:
                    â”œâ”€ organizationName
                    â”œâ”€ adminEmail
                    â”œâ”€ businessRegistrationNumber
                    â”œâ”€ businessRegistrationDocument
                    â”œâ”€ employeeCountRange
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   STEP 2    â”‚â—„â”€â”€â”€â”€â”€â”€â”€ GET /billing-plans
â”‚   Select    â”‚         (Fetch from database)
â”‚   Plan      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
      â”‚ User selects plan
      â†“
   Form Data:
   â”œâ”€ ... (previous fields)
   â”œâ”€ selectedPlanId
   â”œâ”€ selectedPlanName
   â”‚
   â”œâ”€ If Custom Plan? â”€â”€â”€â”€YESâ”€â”€â”€â”€â”
   â”‚                              â†“
   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                    â”‚   STEP 3A   â”‚â—„â”€â”€â”€ GET /api/modules/active
   â”‚                    â”‚   Custom    â”‚      (Fetch from database)
   â”‚                    â”‚   Modules   â”‚
   â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                         â”‚ User selects modules
   â”‚                         â†“
   â”‚                    Form Data:
   â”‚                    â”œâ”€ ... (previous fields)
   â”‚                    â”œâ”€ customModules: [1, 3, 5]
   â”‚                         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€NOâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚           â”‚
                            â†“           â†“
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚      STEP 3B        â”‚
                       â”‚   Confirmation +    â”‚
                       â”‚    reCAPTCHA       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â†“
                         [Submit Button]
                                â”‚
                                â†“
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  POST /auth/  â”‚
                        â”‚    signup     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â†“
                          Backend Logic:
                          â”œâ”€ Create Organization
                          â”œâ”€ Store Plan Selection
                          â”‚  (organization_subscriptions)
                          â”œâ”€ If custom:
                          â”‚  â””â”€ Create OrganizationModule
                          â”‚     records for each selected
                          â”‚     module
                          â””â”€ Send for approval
```

## ğŸ“Š Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TABLES                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  billing_plans  â”‚           â”‚  organizations   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚           â”‚ id (PK)          â”‚
â”‚ name            â”‚           â”‚ name             â”‚
â”‚ price           â”‚           â”‚ admin_email      â”‚
â”‚ period          â”‚           â”‚ status           â”‚
â”‚ description     â”‚           â”‚ ...              â”‚
â”‚ features (JSON) â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ employees       â”‚                    â”‚
â”‚ popular         â”‚                    â”‚
â”‚ ...             â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
        â”‚                              â”‚
        â”‚                              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ organization_subscriptions â”‚ (Optional new table)
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ id (PK)                    â”‚
        â”‚ organization_id (FK)       â”‚
        â”‚ billing_plan_id (FK)       â”‚
        â”‚ subscribed_at              â”‚
        â”‚ status                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ extended_modules  â”‚           â”‚  organization_modules   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ module_id (PK)    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ id (PK)                 â”‚
â”‚ name              â”‚           â”‚ organization_id (FK)    â”‚
â”‚ module_key        â”‚           â”‚ module_id (FK)          â”‚
â”‚ description       â”‚           â”‚ is_enabled              â”‚
â”‚ price             â”‚           â”‚ subscribed_at           â”‚
â”‚ is_active         â”‚           â”‚ expires_at              â”‚
â”‚ category          â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ icon              â”‚                      â”‚
â”‚ ...               â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                                           â”‚
                                           â†“
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚ organizations   â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ UI Component Hierarchy

```
SignupPage
â”œâ”€â”€ Navbar
â”œâ”€â”€ Container
â”‚   â”œâ”€â”€ Header
â”‚   â”‚   â””â”€â”€ CoreHive Logo & Title
â”‚   â”‚
â”‚   â”œâ”€â”€ Progress Indicator
â”‚   â”‚   â”œâ”€â”€ Step 1: Company (Active/Complete)
â”‚   â”‚   â”œâ”€â”€ Step 2: Plan (Active/Complete/Inactive)
â”‚   â”‚   â””â”€â”€ Step 3: Confirm (Active/Inactive)
â”‚   â”‚
â”‚   â””â”€â”€ Card (Form Container)
â”‚       â”œâ”€â”€ Error Alert (if error)
â”‚       â”‚
â”‚       â”œâ”€â”€ Form
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Step 1 Content (if currentStep === 1)
â”‚       â”‚   â”‚   â”œâ”€â”€ Input: Organization Name
â”‚       â”‚   â”‚   â”œâ”€â”€ Input: Admin Email
â”‚       â”‚   â”‚   â”œâ”€â”€ Input: Business Reg Number
â”‚       â”‚   â”‚   â”œâ”€â”€ File Upload: Registration Document
â”‚       â”‚   â”‚   â”œâ”€â”€ Select: Employee Count
â”‚       â”‚   â”‚   â””â”€â”€ Button: Next
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Step 2 Content (if currentStep === 2)
â”‚       â”‚   â”‚   â”œâ”€â”€ Header: Choose Your Plan
â”‚       â”‚   â”‚   â”œâ”€â”€ Loading Spinner (if isLoadingPlans)
â”‚       â”‚   â”‚   â”œâ”€â”€ Plan Cards Grid
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ For each billing plan:
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ Popular Badge (if plan.popular)
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ Selected Checkmark (if selected)
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ Plan Name
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ Price & Period
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ Employee Limit
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ Features List
â”‚       â”‚   â”‚   â”œâ”€â”€ Error: plan (if validation error)
â”‚       â”‚   â”‚   â””â”€â”€ Buttons: Back | Continue
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ Step 3 Content (if currentStep === 3)
â”‚       â”‚       â”‚
â”‚       â”‚       â”œâ”€â”€ If Custom Plan:
â”‚       â”‚       â”‚   â”œâ”€â”€ Header: Customize Your Modules
â”‚       â”‚       â”‚   â”œâ”€â”€ Loading Spinner (if isLoadingModules)
â”‚       â”‚       â”‚   â”œâ”€â”€ Modules Grid
â”‚       â”‚       â”‚   â”‚   â””â”€â”€ For each extended module:
â”‚       â”‚       â”‚   â”‚       â”œâ”€â”€ Checkbox
â”‚       â”‚       â”‚   â”‚       â”œâ”€â”€ Module Name & Price
â”‚       â”‚       â”‚   â”‚       â”œâ”€â”€ Description
â”‚       â”‚       â”‚   â”‚       â””â”€â”€ Category Badge
â”‚       â”‚       â”‚   â”œâ”€â”€ Total Price Summary
â”‚       â”‚       â”‚   â”œâ”€â”€ Error: modules (if validation error)
â”‚       â”‚       â”‚   â”œâ”€â”€ ReCaptcha Component
â”‚       â”‚       â”‚   â””â”€â”€ Buttons: Back | Submit
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€â”€ If Non-Custom Plan:
â”‚       â”‚           â”œâ”€â”€ Header: Confirm Registration
â”‚       â”‚           â”œâ”€â”€ Summary Card
â”‚       â”‚           â”‚   â”œâ”€â”€ Organization Name
â”‚       â”‚           â”‚   â”œâ”€â”€ Admin Email
â”‚       â”‚           â”‚   â”œâ”€â”€ Employee Count
â”‚       â”‚           â”‚   â””â”€â”€ Selected Plan
â”‚       â”‚           â”œâ”€â”€ ReCaptcha Component
â”‚       â”‚           â””â”€â”€ Buttons: Back | Submit
â”‚       â”‚
â”‚       â””â”€â”€ Login Link
â”‚
â””â”€â”€ Footer
```

## ğŸ” State Management Flow

```
Initial State:
â”œâ”€â”€ currentStep: 1
â”œâ”€â”€ formData: { empty fields }
â”œâ”€â”€ billingPlans: []
â”œâ”€â”€ extendedModules: []
â””â”€â”€ isLoading: false

User fills Step 1 â†’ clicks Next
â”œâ”€â”€ validateStep1()
â”œâ”€â”€ If valid: currentStep = 2
â””â”€â”€ useEffect triggers fetchBillingPlans()
    â”œâ”€â”€ isLoadingPlans = true
    â”œâ”€â”€ API call to /billing-plans
    â”œâ”€â”€ setBillingPlans(response)
    â””â”€â”€ isLoadingPlans = false

User selects a plan â†’ clicks Continue
â”œâ”€â”€ handlePlanSelect(plan)
â”‚   â”œâ”€â”€ formData.selectedPlanId = plan.id
â”‚   â”œâ”€â”€ formData.selectedPlanName = plan.name
â”‚   â””â”€â”€ formData.customModules = []
â”œâ”€â”€ handleNextStep()
â”‚   â”œâ”€â”€ Validate plan selection
â”‚   â””â”€â”€ currentStep = 3

If Custom Plan:
â”œâ”€â”€ useEffect triggers fetchExtendedModules()
â”œâ”€â”€ isLoadingModules = true
â”œâ”€â”€ API call to /api/modules/active
â”œâ”€â”€ setExtendedModules(response.data)
â””â”€â”€ isLoadingModules = false

User toggles modules â†’ clicks Submit
â”œâ”€â”€ handleModuleToggle(moduleId)
â”‚   â”œâ”€â”€ Add/Remove moduleId from customModules array
â”‚   â””â”€â”€ Re-render with updated formData
â”œâ”€â”€ Validate: at least 1 module selected
â”œâ”€â”€ handleSubmit()
â”‚   â”œâ”€â”€ Create FormData
â”‚   â”œâ”€â”€ Append all fields including customModules
â”‚   â”œâ”€â”€ dispatch(signupOrganization(formData))
â”‚   â””â”€â”€ If success: isSuccess = true

If Non-Custom Plan â†’ clicks Submit:
â”œâ”€â”€ No module selection needed
â”œâ”€â”€ handleSubmit()
â”‚   â”œâ”€â”€ Create FormData
â”‚   â”œâ”€â”€ Append all fields (no customModules)
â”‚   â”œâ”€â”€ dispatch(signupOrganization(formData))
â”‚   â””â”€â”€ If success: isSuccess = true

Success State:
â””â”€â”€ Render success message with "Go to Login" button
```

## âœ¨ Interactive Elements

```
Clickable Elements:
â”œâ”€â”€ Plan Cards (Step 2)
â”‚   â”œâ”€â”€ Hover: border-primary-300 + shadow-md
â”‚   â””â”€â”€ Selected: border-primary-500 + bg-primary-50 + shadow-lg
â”‚
â”œâ”€â”€ Module Cards (Step 3A - Custom)
â”‚   â”œâ”€â”€ Hover: border-primary-300
â”‚   â””â”€â”€ Selected: border-primary-500 + bg-primary-50
â”‚
â”œâ”€â”€ Checkboxes (Step 3A - Custom)
â”‚   â””â”€â”€ Toggle: Add/Remove module from selection
â”‚
â”œâ”€â”€ Back Buttons
â”‚   â””â”€â”€ Navigate to previous step
â”‚
â”œâ”€â”€ Next/Continue Buttons
â”‚   â”œâ”€â”€ Disabled if: validation fails or loading
â”‚   â””â”€â”€ Navigate to next step or submit
â”‚
â””â”€â”€ Submit Button
    â”œâ”€â”€ Disabled if: no recaptcha or loading or (custom && no modules)
    â””â”€â”€ Trigger: handleSubmit()
```

---

**Diagram Legend:**
- `[___]` = Input field
- `[Button]` = Clickable button
- `â˜` / `â˜‘` = Checkbox (unchecked/checked)
- `â†“` = Flow direction
- `â”‚` `â”œ` `â””` = Hierarchy/relationship
- `â—„â”€â”€â”€` = API call
- `(FK)` = Foreign Key
- `(PK)` = Primary Key
